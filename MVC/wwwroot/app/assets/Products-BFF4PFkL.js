import{a as y,r as M,y as b,z as F,B as H,c as a,d as g,b as t,F as h,q as x,f as w,v as V,p as $,i as z,t as d,C as A,e as D,A as _,k as q,o as l,x as B,s as L,j as R,w as G}from"./index-BAUpGQQF.js";import{u as U}from"./products-gG63zOoy.js";import{u as K,_ as X,F as E}from"./Footer-BognbiGz.js";import{_ as I}from"./LoadingSpinner-Co4uiADP.js";import{_ as J}from"./Toast-BYySBKSA.js";import"./logo-DymRXtmU.js";const O={class:"min-h-screen bg-gray-50"},Q={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},W={class:"grid grid-cols-1 lg:grid-cols-4 gap-8"},Y={class:"lg:col-span-1"},Z={class:"bg-white rounded-xl shadow-md p-6 sticky top-20 space-y-6 animate-fade-in-up"},tt={class:"space-y-2"},et=["onClick"],st={class:"pt-6 border-t"},ot={class:"space-y-3"},at={class:"pt-6 border-t"},lt={class:"space-y-2"},nt=["onClick"],rt={class:"flex"},it={class:"lg:col-span-3"},dt={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6 animate-fade-in-up"},ct={class:"text-gray-600"},ut={class:"font-semibold"},mt={key:0,class:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6"},pt={class:"bg-white rounded-xl shadow-md overflow-hidden transition-all duration-300 hover:shadow-2xl hover:-translate-y-2"},gt={class:"relative overflow-hidden bg-gray-100 aspect-square"},vt=["src","alt"],ht={class:"p-6"},xt={class:"flex items-center justify-between mb-2"},ft={class:"text-sm text-primary-600 font-semibold"},yt={class:"flex items-center space-x-1"},bt={class:"text-sm text-gray-600"},wt={class:"text-lg font-bold text-gray-900 mb-2 group-hover:text-primary-600 transition-colors"},_t={class:"text-gray-600 text-sm mb-4 line-clamp-2"},kt={class:"flex items-center justify-between"},Ct={class:"text-2xl font-bold text-primary-600"},Mt=["onClick"],Vt={key:1,class:"text-center py-12"},Ft={__name:"Products",setup($t){const k=H(),c=U(),N=K(),u=y("All"),m=y(0),v=y("default"),n=M({min:0,max:1e7}),i=M({show:!1,message:"",type:"success"}),S=b(()=>c.categories),f=b(()=>c.products.filter(o=>{const e=u.value==="All"||o.category===u.value,r=m.value===0||o.rating>=m.value,s=o.price>=n.min&&(n.max===0||o.price<=n.max);return e&&r&&s})),T=b(()=>{const o=[...f.value];switch(v.value){case"price-asc":return o.sort((e,r)=>e.price-r.price);case"price-desc":return o.sort((e,r)=>r.price-e.price);case"rating":return o.sort((e,r)=>r.rating-e.rating);case"newest":return o.reverse();default:return o}});function j(o){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(o)}function C(){u.value="All",m.value=0,v.value="default",n.min=0,n.max=1e7}function P(o){const e=o.sizes[0];N.addToCart(o,e),i.message=`Đã thêm ${o.name} vào giỏ hàng`,i.type="success",i.show=!0}return F(async()=>{await c.fetchProducts(),k.query.category&&(u.value=k.query.category)}),(o,e)=>{const r=q("router-link");return l(),a("div",O,[g(X),t("div",Q,[e[18]||(e[18]=t("div",{class:"mb-8 animate-fade-in-up"},[t("h1",{class:"text-3xl md:text-4xl font-bold text-gray-900 mb-2"}," Tất cả sản phẩm "),t("p",{class:"text-gray-600"},"Khám phá bộ sưu tập giày thể thao đa dạng")],-1)),t("div",W,[t("aside",Y,[t("div",Z,[t("div",null,[e[4]||(e[4]=t("h3",{class:"font-bold text-gray-900 mb-4"},"Danh mục",-1)),t("div",tt,[(l(!0),a(h,null,x(S.value,s=>(l(),a("button",{key:s,onClick:p=>u.value=s,class:B(["w-full text-left px-4 py-2 rounded-lg transition-all duration-300",u.value===s?"bg-primary-500 text-white":"hover:bg-gray-100 text-gray-700"])},d(s),11,et))),128))])]),t("div",st,[e[5]||(e[5]=t("h3",{class:"font-bold text-gray-900 mb-4"},"Giá",-1)),t("div",ot,[t("div",null,[w(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>n.min=s),type:"number",placeholder:"Từ",class:"input-field"},null,512),[[V,n.min]])]),t("div",null,[w(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>n.max=s),type:"number",placeholder:"Đến",class:"input-field"},null,512),[[V,n.max]])])])]),t("div",at,[e[8]||(e[8]=t("h3",{class:"font-bold text-gray-900 mb-4"},"Đánh giá",-1)),t("div",lt,[(l(),a(h,null,x([5,4,3],s=>t("button",{key:s,onClick:p=>m.value=s,class:B(["w-full flex items-center space-x-2 px-4 py-2 rounded-lg transition-all",m.value===s?"bg-primary-50 text-primary-600":"hover:bg-gray-100"])},[t("div",rt,[(l(!0),a(h,null,x(s,p=>(l(),a("svg",{key:p,class:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[...e[6]||(e[6]=[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)])]))),128))]),e[7]||(e[7]=t("span",{class:"text-sm"},"& trở lên",-1))],10,nt)),64))])]),t("button",{onClick:C,class:"w-full btn-secondary"}," Xóa bộ lọc ")])]),t("div",it,[t("div",dt,[t("p",ct,[e[9]||(e[9]=z(" Hiển thị ",-1)),t("span",ut,d(f.value.length),1),e[10]||(e[10]=z(" sản phẩm ",-1))]),w(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>v.value=s),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[...e[11]||(e[11]=[D('<option value="default">Mặc định</option><option value="price-asc">Giá: Thấp đến cao</option><option value="price-desc">Giá: Cao đến thấp</option><option value="rating">Đánh giá cao nhất</option><option value="newest">Mới nhất</option>',5)])],512),[[A,v.value]])]),g(I,{show:_(c).loading,message:"Đang tải sản phẩm..."},null,8,["show"]),_(c).loading?$("",!0):(l(),a("div",mt,[(l(!0),a(h,null,x(T.value,(s,p)=>(l(),a("div",{key:s.id,class:"group animate-fade-in-up",style:L({animationDelay:`${p*.05}s`})},[g(r,{to:`/products/${s.id}`},{default:R(()=>[t("div",pt,[t("div",gt,[t("img",{src:s.image,alt:s.name,class:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500"},null,8,vt),e[12]||(e[12]=t("div",{class:"absolute top-4 right-4 bg-primary-500 text-white px-3 py-1 rounded-full text-sm font-bold"}," New ",-1))]),t("div",ht,[t("div",xt,[t("span",ft,d(s.category),1),t("div",yt,[e[13]||(e[13]=t("svg",{class:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),t("span",bt,d(s.rating),1)])]),t("h3",wt,d(s.name),1),t("p",_t,d(s.description),1),t("div",kt,[t("span",Ct,d(j(s.price)),1),t("button",{onClick:G(zt=>P(s),["prevent"]),class:"bg-primary-500 text-white p-2 rounded-lg hover:bg-primary-600 transition-colors transform hover:scale-110"},[...e[14]||(e[14]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)])],8,Mt)])])])]),_:2},1032,["to"])],4))),128))])),!_(c).loading&&f.value.length===0?(l(),a("div",Vt,[e[15]||(e[15]=t("svg",{class:"w-24 h-24 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1)),e[16]||(e[16]=t("h3",{class:"text-xl font-bold text-gray-900 mb-2"},"Không tìm thấy sản phẩm",-1)),e[17]||(e[17]=t("p",{class:"text-gray-600 mb-4"},"Thử điều chỉnh bộ lọc của bạn",-1)),t("button",{onClick:C,class:"btn-primary"}," Xóa bộ lọc ")])):$("",!0)])])]),g(E),g(J,{show:i.show,message:i.message,type:i.type,onClose:e[3]||(e[3]=s=>i.show=!1)},null,8,["show","message","type"])])}}};export{Ft as default};
