import{a as k,r as C,y as M,c as i,d as u,b as t,A as r,F as j,q as $,p as _,t as l,j as x,k as z,f as B,v as N,i as p,s as h,o as d}from"./index-BAUpGQQF.js";import{u as P,_ as V,F}from"./Footer-BognbiGz.js";import{_ as T}from"./Toast-BYySBKSA.js";import"./logo-DymRXtmU.js";const H={class:"min-h-screen bg-gray-50"},q={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},S={key:0,class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},D={class:"lg:col-span-2 space-y-4"},I=["src","alt"],L={class:"flex-1"},A={class:"flex justify-between items-start mb-2"},G={class:"text-lg font-bold text-gray-900 mb-1"},E={class:"flex items-center space-x-3 text-sm"},K={class:"text-gray-600"},Q={key:0,class:"flex items-center space-x-1"},U=["title"],J=["onClick"],O={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mt-4"},R={class:"text-2xl font-bold text-primary-600"},W={class:"flex items-center space-x-3"},X=["onClick"],Y={class:"text-lg font-semibold w-8 text-center"},Z=["onClick"],tt={class:"text-xl font-bold text-gray-900"},st={class:"lg:col-span-1"},et={class:"bg-white rounded-xl shadow-md p-6 sticky top-20 animate-fade-in-up",style:{"animation-delay":"0.3s"}},ot={class:"space-y-4 mb-6"},nt={class:"flex justify-between text-gray-600"},lt={class:"font-semibold"},rt={class:"flex justify-between text-gray-600"},at={class:"font-semibold"},it={class:"border-t pt-4 flex justify-between text-lg font-bold text-gray-900"},dt={class:"text-primary-600"},ct={class:"mt-6 pt-6 border-t"},ut={class:"flex gap-2"},pt={key:0,class:"mt-6 p-4 bg-primary-50 rounded-lg"},mt={class:"text-sm text-primary-800"},gt={class:"mt-2 bg-primary-200 rounded-full h-2"},xt={key:1,class:"text-center py-16 bg-white rounded-xl shadow-md animate-fade-in"},_t={__name:"Cart",setup(ht){const o=P(),y=k(""),a=C({show:!1,message:"",type:"success"}),m=M(()=>o.totalPrice>=5e5?0:3e4);function c(n){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(n)}function f(n){o.removeFromCart(n.id,n.size,n.color),a.message="Đã xóa sản phẩm khỏi giỏ hàng",a.type="success",a.show=!0}function v(n,s){s<=0?f(n):o.updateQuantity(n.id,n.size,s,n.color)}return(n,s)=>{const g=z("router-link");return d(),i("div",H,[u(V),t("div",q,[s[19]||(s[19]=t("h1",{class:"text-3xl font-bold text-gray-900 mb-8 animate-fade-in-up"},"Giỏ hàng của bạn",-1)),r(o).items.length>0?(d(),i("div",S,[t("div",D,[(d(!0),i(j,null,$(r(o).items,(e,w)=>(d(),i("div",{key:`${e.id}-${e.size}-${e.color}`,class:"bg-white rounded-xl shadow-md p-6 flex flex-col sm:flex-row gap-6 animate-fade-in-up",style:h({animationDelay:`${w*.1}s`})},[t("img",{src:e.image,alt:e.name,class:"w-32 h-32 object-cover rounded-lg"},null,8,I),t("div",L,[t("div",A,[t("div",null,[t("h3",G,l(e.name),1),t("div",E,[t("p",K,"Size: "+l(e.size),1),e.color?(d(),i("span",Q,[s[2]||(s[2]=t("span",{class:"text-gray-400"},"|",-1)),s[3]||(s[3]=t("span",{class:"text-gray-600"},"Màu:",-1)),t("span",{class:"inline-block w-4 h-4 rounded-full border border-gray-300",style:h({backgroundColor:e.color}),title:e.color},null,12,U)])):_("",!0)])]),t("button",{onClick:b=>f(e),class:"text-red-600 hover:text-red-700 p-2 hover:bg-red-50 rounded-lg transition-colors"},[...s[4]||(s[4]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,J)]),t("div",O,[t("div",R,l(c(e.price)),1),t("div",W,[t("button",{onClick:b=>v(e,e.quantity-1),class:"w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors flex items-center justify-center"},[...s[5]||(s[5]=[t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])],8,X),t("span",Y,l(e.quantity),1),t("button",{onClick:b=>v(e,e.quantity+1),class:"w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors flex items-center justify-center"},[...s[6]||(s[6]=[t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])],8,Z)]),t("div",tt,l(c(e.price*e.quantity)),1)])])],4))),128))]),t("div",st,[t("div",et,[s[14]||(s[14]=t("h2",{class:"text-xl font-bold text-gray-900 mb-6"},"Tóm tắt đơn hàng",-1)),t("div",ot,[t("div",nt,[t("span",null,"Tạm tính ("+l(r(o).totalItems)+" sản phẩm)",1),t("span",lt,l(c(r(o).totalPrice)),1)]),t("div",rt,[s[7]||(s[7]=t("span",null,"Phí vận chuyển",-1)),t("span",at,l(m.value===0?"Miễn phí":c(m.value)),1)]),t("div",it,[s[8]||(s[8]=t("span",null,"Tổng cộng",-1)),t("span",dt,l(c(r(o).totalPrice+m.value)),1)])]),u(g,{to:"/checkout",class:"block w-full btn-primary text-center py-4 text-lg mb-3"},{default:x(()=>[...s[9]||(s[9]=[p(" Tiến hành thanh toán ",-1)])]),_:1}),u(g,{to:"/products",class:"block w-full btn-secondary text-center py-3"},{default:x(()=>[...s[10]||(s[10]=[p(" Tiếp tục mua sắm ",-1)])]),_:1}),t("div",ct,[s[12]||(s[12]=t("h3",{class:"font-semibold text-gray-900 mb-3"},"Mã giảm giá",-1)),t("div",ut,[B(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>y.value=e),type:"text",placeholder:"Nhập mã giảm giá",class:"flex-1 input-field"},null,512),[[N,y.value]]),s[11]||(s[11]=t("button",{class:"btn-secondary whitespace-nowrap"},"Áp dụng",-1))])]),r(o).totalPrice<5e5?(d(),i("div",pt,[t("p",mt,[s[13]||(s[13]=t("svg",{class:"w-5 h-5 inline mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),p(" Mua thêm "+l(c(5e5-r(o).totalPrice))+" để được miễn phí vận chuyển ",1)]),t("div",gt,[t("div",{class:"bg-primary-500 h-2 rounded-full transition-all duration-500",style:h({width:`${r(o).totalPrice/5e5*100}%`})},null,4)])])):_("",!0)])])])):(d(),i("div",xt,[s[16]||(s[16]=t("svg",{class:"w-32 h-32 mx-auto text-gray-400 mb-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),s[17]||(s[17]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-4"},"Giỏ hàng trống",-1)),s[18]||(s[18]=t("p",{class:"text-gray-600 mb-8"},"Hãy thêm sản phẩm vào giỏ hàng để tiếp tục mua sắm",-1)),u(g,{to:"/products",class:"btn-primary inline-block"},{default:x(()=>[...s[15]||(s[15]=[p(" Khám phá sản phẩm ",-1)])]),_:1})]))]),u(F),u(T,{show:a.show,message:a.message,type:a.type,onClose:s[1]||(s[1]=e=>a.show=!1)},null,8,["show","message","type"])])}}};export{_t as default};
