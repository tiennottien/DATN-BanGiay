import{r as H,a as h,y as k,c as i,d as m,b as t,f as l,v as c,C as w,F as V,q as N,e as U,A as T,p as D,t as o,i as g,j as y,l as I,k as F,o as a,x as A,D as G,n as $,E,G as r}from"./index-BAUpGQQF.js";import{u as R,_ as L,F as O}from"./Footer-BognbiGz.js";import{_ as J}from"./Modal-Ic1_hq-4.js";import"./logo-DymRXtmU.js";const Q={class:"min-h-screen bg-gray-50"},X={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},K={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},W={class:"lg:col-span-2 space-y-6"},Y={class:"bg-white rounded-xl shadow-md p-6 animate-fade-in-up"},Z={class:"space-y-4"},tt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},et={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},st={class:"bg-white rounded-xl shadow-md p-6 animate-fade-in-up",style:{"animation-delay":"0.1s"}},nt={class:"space-y-3"},ot=["value"],lt={class:"ml-4 flex-1"},at={class:"flex items-center justify-between"},it={class:"font-semibold text-gray-900"},rt={class:"text-sm text-gray-600 mt-1"},dt={class:"lg:col-span-1"},ut={class:"bg-white rounded-xl shadow-md p-6 sticky top-20 animate-fade-in-up",style:{"animation-delay":"0.2s"}},mt={class:"space-y-4 mb-6 max-h-80 overflow-y-auto"},ct={class:"relative"},pt=["src","alt"],xt={class:"absolute -top-2 -right-2 bg-primary-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center"},ht={class:"flex-1 min-w-0"},gt={class:"font-semibold text-gray-900 text-sm truncate"},yt={class:"text-xs text-gray-600"},vt={class:"font-semibold text-gray-900 text-sm"},bt={class:"space-y-3 mb-6 pb-6 border-b"},ft={class:"flex justify-between text-gray-600"},kt={class:"font-semibold"},wt={class:"flex justify-between text-gray-600"},Ct={class:"font-semibold"},_t={key:0,class:"flex justify-between text-green-600"},Mt={class:"font-semibold"},Vt={class:"flex justify-between text-xl font-bold text-gray-900 mb-6"},Nt={class:"text-primary-600"},Tt=["disabled"],jt={key:0},Bt={key:1,class:"flex items-center justify-center"},qt={class:"text-center py-4"},zt={class:"text-sm text-gray-600"},St={class:"font-bold text-primary-600"},$t={__name:"Checkout",setup(Pt){const j=I(),d=R(),n=H({fullName:"",phone:"",email:"",address:"",city:"",district:"",ward:"",note:"",paymentMethod:"cod"}),p=h(!1),v=h(!1),b=h(0),C=h(""),B=[{id:"cod",name:"Thanh toán khi nhận hàng (COD)",description:"Thanh toán bằng tiền mặt khi nhận hàng",icon:()=>r("svg",{class:"text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})])},{id:"card",name:"Thẻ tín dụng/Ghi nợ",description:"Visa, Mastercard, JCB",icon:()=>r("svg",{class:"text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})])},{id:"bank",name:"Chuyển khoản ngân hàng",description:"Chuyển khoản qua Internet Banking",icon:()=>r("svg",{class:"text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"})])}],f=k(()=>d.totalPrice>=5e5?0:3e4),q=k(()=>d.totalPrice+f.value-b.value),_=k(()=>n.fullName&&n.phone&&n.address&&n.city&&n.paymentMethod);function u(x){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(x)}async function z(){_.value&&(p.value=!0,await new Promise(x=>setTimeout(x,2e3)),C.value="ORD"+Date.now().toString().slice(-8),d.clearCart(),p.value=!1,v.value=!0)}function S(){v.value=!1,j.push("/")}return(x,e)=>{const M=F("router-link");return a(),i("div",Q,[m(L),t("div",X,[e[29]||(e[29]=t("h1",{class:"text-3xl font-bold text-gray-900 mb-8 animate-fade-in-up"},"Thanh toán",-1)),t("div",K,[t("div",W,[t("div",Y,[e[20]||(e[20]=t("h2",{class:"text-xl font-bold text-gray-900 mb-6"},"Thông tin giao hàng",-1)),t("form",Z,[t("div",tt,[t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Họ và tên *",-1)),l(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>n.fullName=s),type:"text",required:"",class:"input-field",placeholder:"Nguyễn Văn A"},null,512),[[c,n.fullName]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Số điện thoại *",-1)),l(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>n.phone=s),type:"tel",required:"",class:"input-field",placeholder:"0912345678"},null,512),[[c,n.phone]])])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Email",-1)),l(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>n.email=s),type:"email",class:"input-field",placeholder:"email@example.com"},null,512),[[c,n.email]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Địa chỉ *",-1)),l(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>n.address=s),type:"text",required:"",class:"input-field",placeholder:"Số nhà, tên đường"},null,512),[[c,n.address]])]),t("div",et,[t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Tỉnh/Thành phố *",-1)),l(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>n.city=s),required:"",class:"input-field"},[...e[13]||(e[13]=[t("option",{value:""},"Chọn tỉnh/thành",-1),t("option",null,"Hà Nội",-1),t("option",null,"TP. Hồ Chí Minh",-1),t("option",null,"Đà Nẵng",-1)])],512),[[w,n.city]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Quận/Huyện *",-1)),l(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>n.district=s),required:"",class:"input-field"},[...e[15]||(e[15]=[t("option",{value:""},"Chọn quận/huyện",-1)])],512),[[w,n.district]])]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Phường/Xã *",-1)),l(t("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>n.ward=s),required:"",class:"input-field"},[...e[17]||(e[17]=[t("option",{value:""},"Chọn phường/xã",-1)])],512),[[w,n.ward]])])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Ghi chú",-1)),l(t("textarea",{"onUpdate:modelValue":e[7]||(e[7]=s=>n.note=s),rows:"3",class:"input-field",placeholder:"Ghi chú về đơn hàng (tùy chọn)"},null,512),[[c,n.note]])])])]),t("div",st,[e[21]||(e[21]=t("h2",{class:"text-xl font-bold text-gray-900 mb-6"},"Phương thức thanh toán",-1)),t("div",nt,[(a(),i(V,null,N(B,s=>t("label",{key:s.id,class:A(["flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all duration-300",n.paymentMethod===s.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-primary-300"])},[l(t("input",{"onUpdate:modelValue":e[8]||(e[8]=P=>n.paymentMethod=P),type:"radio",value:s.id,class:"w-5 h-5 text-primary-600 focus:ring-primary-500"},null,8,ot),[[G,n.paymentMethod]]),t("div",lt,[t("div",at,[t("span",it,o(s.name),1),(a(),$(E(s.icon),{class:"w-8 h-8"}))]),t("p",rt,o(s.description),1)])],2)),64))])])]),t("div",dt,[t("div",ut,[e[27]||(e[27]=t("h2",{class:"text-xl font-bold text-gray-900 mb-6"},"Đơn hàng của bạn",-1)),t("div",mt,[(a(!0),i(V,null,N(T(d).items,s=>(a(),i("div",{key:`${s.id}-${s.size}`,class:"flex items-center space-x-4"},[t("div",ct,[t("img",{src:s.image,alt:s.name,class:"w-16 h-16 object-cover rounded-lg"},null,8,pt),t("span",xt,o(s.quantity),1)]),t("div",ht,[t("h4",gt,o(s.name),1),t("p",yt,"Size: "+o(s.size),1)]),t("span",vt,o(u(s.price*s.quantity)),1)]))),128))]),t("div",bt,[t("div",ft,[e[22]||(e[22]=t("span",null,"Tạm tính",-1)),t("span",kt,o(u(T(d).totalPrice)),1)]),t("div",wt,[e[23]||(e[23]=t("span",null,"Phí vận chuyển",-1)),t("span",Ct,o(f.value===0?"Miễn phí":u(f.value)),1)]),b.value>0?(a(),i("div",_t,[e[24]||(e[24]=t("span",null,"Giảm giá",-1)),t("span",Mt,"-"+o(u(b.value)),1)])):D("",!0)]),t("div",Vt,[e[25]||(e[25]=t("span",null,"Tổng cộng",-1)),t("span",Nt,o(u(q.value)),1)]),t("button",{onClick:z,disabled:!_.value||p.value,class:"w-full btn-primary py-4 text-lg disabled:opacity-50 disabled:cursor-not-allowed"},[p.value?(a(),i("span",Bt,[...e[26]||(e[26]=[t("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),g(" Đang xử lý... ",-1)])])):(a(),i("span",jt,"Đặt hàng"))],8,Tt),e[28]||(e[28]=U('<div class="mt-6 p-4 bg-gray-50 rounded-lg"><div class="flex items-start space-x-3"><svg class="w-5 h-5 text-green-500 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg><div><h4 class="font-semibold text-gray-900 text-sm">Thanh toán an toàn</h4><p class="text-xs text-gray-600 mt-1">Thông tin của bạn được mã hóa và bảo mật</p></div></div></div>',1))])])])]),m(O),m(J,{show:v.value,title:"Đặt hàng thành công!",onClose:S},{footer:y(()=>[m(M,{to:"/products",class:"btn-secondary"},{default:y(()=>[...e[34]||(e[34]=[g(" Tiếp tục mua sắm ",-1)])]),_:1}),m(M,{to:"/",class:"btn-primary"},{default:y(()=>[...e[35]||(e[35]=[g(" Về trang chủ ",-1)])]),_:1})]),default:y(()=>[t("div",qt,[e[31]||(e[31]=t("div",{class:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4"},[t("svg",{class:"w-10 h-10 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),e[32]||(e[32]=t("h3",{class:"text-xl font-bold text-gray-900 mb-2"},"Cảm ơn bạn đã đặt hàng!",-1)),e[33]||(e[33]=t("p",{class:"text-gray-600 mb-4"},"Đơn hàng của bạn đã được xác nhận và đang được xử lý.",-1)),t("p",zt,[e[30]||(e[30]=g("Mã đơn hàng: ",-1)),t("span",St,"#"+o(C.value),1)])])]),_:1},8,["show"])])}}};export{$t as default};
